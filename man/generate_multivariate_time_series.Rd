% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulation_utilities.R
\name{generate_multivariate_time_series}
\alias{generate_multivariate_time_series}
\title{Simulate Multivariate Short Panel Time Series from Symbolic Formulas}
\usage{
generate_multivariate_time_series(
  n = 1000,
  T_points = 4,
  formulas = list(),
  trend_fun_list = list(),
  sd = 0.1,
  seed = NULL
)
}
\arguments{
\item{n}{Integer. Number of individuals (panel units).}

\item{T_points}{Integer. Number of time points per individual.}

\item{formulas}{List of parsed formulas (e.g., created with \code{as.formula}),
each with a single \code{lhs ~ rhs}.}

\item{trend_fun_list}{Named list of functions; for each \code{lhs} name, a function
of the time index \code{i} returning a deterministic trend contribution.}

\item{sd}{Numeric. Standard deviation of the Gaussian noise \code{error}.}

\item{seed}{Optional integer. Random seed for reproducibility.}
}
\value{
A data frame with columns \code{id}, \code{t}, and one column per variable
defined in \code{formulas}. Initial state at \code{t=1} is standard normal.
}
\description{
Generates a panel dataset with \code{n} independent series over \code{T_points}
time points. Each variable is defined by a symbolic formula \code{lhs ~ rhs}
where \code{rhs} can depend on current values, a per-time deterministic
\code{trend}, Gaussian noise term \code{error}, and individual lags via
\code{lag(var)}.
}
\details{
Within each formula's environment at time \code{i}:
\itemize{
\item \code{trend} is provided from \code{trend_fun_list[[lhs]](i)} if present, else 0;
\item \code{error} is \code{rnorm(1, 0, sd)};
\item \code{lag(var)} returns the previous-time value of \code{var} for the same \code{id}.
}
}
\examples{
\dontrun{
fmls <- list(
  as.formula(X ~ 0.7 * lag(X) + 0.2 * Y + trend + error),
  as.formula(Y ~ 0.5 * lag(Y) + error)
)
trends <- list(X = function(i) 0.05 * i)
panel <- generate_multivariate_time_series(n = 200, T_points = 10,
                                           formulas = fmls,
                                           trend_fun_list = trends,
                                           sd = 0.1, seed = 123)
head(panel)
}

}
