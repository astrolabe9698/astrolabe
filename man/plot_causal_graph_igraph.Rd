% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_utilities.R
\name{plot_causal_graph_igraph}
\alias{plot_causal_graph_igraph}
\title{Plot Causal Graph (auto-detect robust relations and/or binary matrices)}
\usage{
plot_causal_graph_igraph(
  ...,
  base_curvature = 0.22,
  arrow_size = 1,
  arrow_width = 1.25,
  seed = 1
)
}
\arguments{
\item{...}{One or more of:
\itemize{
\item robust scan results (a named list of per-relation lists with
fields \code{predictors}, \code{outcome}, \code{significant});
\item a list from \code{cor_forest_matrix_robust_perm()} or a plain numeric
matrix/data frame (interpreted as a binary adjacency where 1 = edge).
}
You may mix multiple robust results and/or multiple matrices; they will be merged.}

\item{base_curvature}{Numeric in \eqn{[0,1]}. Curvature magnitude used to separate
opposite-direction edges in the fallback plot (default \code{0.22}).}

\item{arrow_size, arrow_width}{Numeric. Arrow size and width multipliers for the
fallback base-\pkg{igraph} plot (defaults \code{1.0}, \code{1.25}).}

\item{seed}{Integer random seed for reproducible layouts (default \code{1}).}
}
\value{
Invisibly returns:
\itemize{
\item a \code{tidygraph::tbl_graph} object when using the \pkg{ggraph} pipeline, or
\item an \code{igraph} object when using the fallback base plot,
\item \code{NULL} if no nodes/edges could be inferred.
}
The function draws the plot as a side effect.
}
\description{
Builds and plots a directed causal graph by auto-detecting inputs passed via
\code{...}: you can provide (i) robust scan results (the list produced by
\code{robust_scan_all_outcomes()}), and/or (ii) a binary direction matrix (or
the \code{$significant} matrix from \code{cor_forest_matrix_robust_perm()}).
If \pkg{ggraph}/\pkg{tidygraph} are available, a polished plot is produced; otherwise
a base-\pkg{igraph} fallback is used. Labels are drawn \emph{inside} circular nodes.
}
\details{
Inputs are merged as follows:
\itemize{
\item \strong{Robust relations:} for each significant relation, every predictor creates a
directed edge \code{predictor → outcome} tagged as \code{"complex"}.
\item \strong{Binary matrix:} any nonzero entry \code{[i,j]} adds \code{i → j} tagged
as \code{"binary"}.
\item If both sources yield the same edge, its type becomes \code{"both"} and is rendered
thicker/colored accordingly.
}
Layout choice: DAGs attempt \code{layout_with_sugiyama}; otherwise \code{kk}/\code{fr}.
When \pkg{ggraph} is available, node diameters are sized to fit labels.
}
\examples{
\dontrun{
# From robust + binary:
TG <- plot_causal_graph_igraph(robust_results, binary_results)

# Only binary matrix:
M <- matrix(0, 3, 3, dimnames = list(letters[1:3], letters[1:3]))
M["a","b"] <- 1; M["b","c"] <- 1
plot_causal_graph_igraph(M)
}

}
